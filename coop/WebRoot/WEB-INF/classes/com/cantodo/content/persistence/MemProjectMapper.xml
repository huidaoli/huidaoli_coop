<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.cantodo.content.persistence.MemProjectMapper">

	 <!--
	 缓存开关
	 <cache />  
	 -->
	

	
	<select id="getInfoById" parameterType="map"
		resultType="MemProject">
		select memid,projectid,state,remark from t_mem_project  
		where memid=#{memid} and projectid=#{projectid}
	</select>

	<insert id="insert" parameterType="MemProject">
		INSERT INTO t_mem_project (memid,projectid,state,remark)
		VALUES (#{memid}, #{projectid},0, '')
	</insert>
	
	<delete id="delete" parameterType="map">
		delete from t_mem_project where memid=#{memid} and projectid=#{projectid}
	</delete>
	
	<select id="getMemProjectCount" parameterType="int"
		resultType="int">
		select count(1) from t_mem_project where projectid=#{projectid}
	</select>
	
	<insert id="saveState" parameterType="map">
		update t_mem_project set state=#{state},remark = #{remark} where memid = #{memid} and projectid =#{projectid}
	</insert>
	
	
	<select id="getMemProjectCount2" parameterType="int"
		resultType="int">
		select count(1) from t_mem_project where projectid=#{projectid} and state = 1
	</select>
	
	


</mapper>